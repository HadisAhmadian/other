<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastermind Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .game-container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        .peg {
            width: 40px;
            height: 40px;
            margin: 5px;
            border-radius: 50%;
            background-color: lightgray;
            border: 1px solid #ccc;
            cursor: pointer;
        }

        .feedback {
            display: flex;
            justify-content: center;
            margin-left: 10px;
        }

        .feedback .dot {
            width: 15px;
            height: 15px;
            margin: 3px;
            border-radius: 50%;
            background-color: gray;
            border: 1px solid #000;
        }

        .controls {
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        .btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<head>
  <link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <h1 style="line-height: 0.2;font-family: 'Caveat', cursive;">FETL e BETL</h1>
		<h1 style="font-size: 20px; font-weight: normal;font-family: 'Caveat', cursive;">(Fetr Betr, only better)</h1>
        <div id="board"></div>
        <div class="controls">
            <button class="btn" id="submitGuess" style="font-family: 'Caveat', cursive;">Submit Guess</button>
            <button class="btn" id="restartGame" style="font-family: 'Caveat', cursive;">Restart Game</button>
        </div>
    </div>

    <script>
        // Constants
        const COLORS = ['red', 'blue', 'green', 'yellow', 'orange', 'purple'];
        const CODE_LENGTH = 4;
        const DAYS_IN_YEAR = 365;

        // State
        let currentGuess = [];
        let attempts = [];

        // DOM Elements
        const board = document.getElementById('board');
        const submitGuessButton = document.getElementById('submitGuess');
        const restartGameButton = document.getElementById('restartGame');

        // Pre-generate a list of 365 secret codes
        const secretCodes = [
    [
        "yellow",
        "green",
        "purple",
        "orange"
    ],
    [
        "yellow",
        "orange",
        "green",
        "purple"
    ],
    [
        "green",
        "yellow",
        "blue",
        "orange"
    ],
    [
        "blue",
        "purple",
        "yellow",
        "orange"
    ],
    [
        "green",
        "blue",
        "red",
        "orange"
    ],
    [
        "blue",
        "yellow",
        "purple",
        "red"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "red",
        "blue",
        "green"
    ],
    [
        "purple",
        "green",
        "yellow",
        "blue"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "purple",
        "blue",
        "green",
        "red"
    ],
    [
        "orange",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "orange",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "blue",
        "yellow",
        "green",
        "orange"
    ],
    [
        "blue",
        "red",
        "purple",
        "orange"
    ],
    [
        "purple",
        "red",
        "blue",
        "yellow"
    ],
    [
        "red",
        "blue",
        "purple",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "purple",
        "orange",
        "red",
        "blue"
    ],
    [
        "yellow",
        "purple",
        "red",
        "green"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "red",
        "blue",
        "yellow",
        "purple"
    ],
    [
        "purple",
        "yellow",
        "blue",
        "orange"
    ],
    [
        "blue",
        "red",
        "orange",
        "yellow"
    ],
    [
        "red",
        "orange",
        "blue",
        "purple"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "purple",
        "green",
        "yellow",
        "orange"
    ],
    [
        "green",
        "orange",
        "blue",
        "yellow"
    ],
    [
        "green",
        "yellow",
        "blue",
        "purple"
    ],
    [
        "red",
        "blue",
        "green",
        "purple"
    ],
    [
        "green",
        "orange",
        "blue",
        "yellow"
    ],
    [
        "orange",
        "yellow",
        "green",
        "blue"
    ],
    [
        "red",
        "yellow",
        "orange",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "purple",
        "red",
        "blue",
        "orange"
    ],
    [
        "orange",
        "red",
        "purple",
        "green"
    ],
    [
        "red",
        "blue",
        "green",
        "purple"
    ],
    [
        "blue",
        "green",
        "purple",
        "yellow"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "blue",
        "red",
        "orange",
        "green"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "blue",
        "yellow",
        "orange",
        "purple"
    ],
    [
        "orange",
        "yellow",
        "green",
        "blue"
    ],
    [
        "orange",
        "yellow",
        "green",
        "purple"
    ],
    [
        "red",
        "purple",
        "blue",
        "orange"
    ],
    [
        "blue",
        "orange",
        "purple",
        "red"
    ],
    [
        "yellow",
        "red",
        "blue",
        "orange"
    ],
    [
        "yellow",
        "blue",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "orange",
        "yellow",
        "green",
        "purple"
    ],
    [
        "blue",
        "green",
        "purple",
        "orange"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "yellow",
        "blue",
        "red",
        "green"
    ],
    [
        "yellow",
        "purple",
        "green",
        "blue"
    ],
    [
        "orange",
        "green",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "purple",
        "red",
        "yellow",
        "blue"
    ],
    [
        "blue",
        "red",
        "purple",
        "green"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "red",
        "blue",
        "green"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "red",
        "yellow",
        "purple",
        "blue"
    ],
    [
        "red",
        "purple",
        "blue",
        "green"
    ],
    [
        "green",
        "yellow",
        "purple",
        "blue"
    ],
    [
        "orange",
        "red",
        "blue",
        "yellow"
    ],
    [
        "red",
        "blue",
        "yellow",
        "orange"
    ],
    [
        "yellow",
        "red",
        "orange",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "purple"
    ],
    [
        "red",
        "yellow",
        "purple",
        "green"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "purple",
        "red",
        "yellow",
        "orange"
    ],
    [
        "orange",
        "yellow",
        "purple",
        "green"
    ],
    [
        "red",
        "yellow",
        "orange",
        "purple"
    ],
    [
        "purple",
        "orange",
        "red",
        "yellow"
    ],
    [
        "green",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "green",
        "red",
        "yellow",
        "blue"
    ],
    [
        "blue",
        "orange",
        "yellow",
        "red"
    ],
    [
        "yellow",
        "green",
        "orange",
        "blue"
    ],
    [
        "red",
        "yellow",
        "green",
        "blue"
    ],
    [
        "green",
        "orange",
        "blue",
        "red"
    ],
    [
        "red",
        "purple",
        "blue",
        "orange"
    ],
    [
        "yellow",
        "purple",
        "red",
        "blue"
    ],
    [
        "orange",
        "purple",
        "blue",
        "red"
    ],
    [
        "purple",
        "yellow",
        "green",
        "orange"
    ],
    [
        "red",
        "yellow",
        "green",
        "orange"
    ],
    [
        "blue",
        "red",
        "orange",
        "yellow"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "green",
        "orange",
        "purple",
        "blue"
    ],
    [
        "purple",
        "yellow",
        "blue",
        "red"
    ],
    [
        "red",
        "orange",
        "purple",
        "yellow"
    ],
    [
        "yellow",
        "blue",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "yellow",
        "orange",
        "purple",
        "green"
    ],
    [
        "red",
        "blue",
        "purple",
        "green"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "green",
        "blue",
        "orange",
        "yellow"
    ],
    [
        "orange",
        "blue",
        "red",
        "purple"
    ],
    [
        "orange",
        "yellow",
        "green",
        "blue"
    ],
    [
        "yellow",
        "red",
        "orange",
        "purple"
    ],
    [
        "red",
        "yellow",
        "blue",
        "orange"
    ],
    [
        "red",
        "orange",
        "purple",
        "yellow"
    ],
    [
        "purple",
        "red",
        "blue",
        "orange"
    ],
    [
        "green",
        "orange",
        "purple",
        "yellow"
    ],
    [
        "orange",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "yellow",
        "blue",
        "purple"
    ],
    [
        "red",
        "yellow",
        "green",
        "purple"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "green",
        "blue",
        "yellow",
        "red"
    ],
    [
        "red",
        "purple",
        "yellow",
        "blue"
    ],
    [
        "orange",
        "yellow",
        "red",
        "blue"
    ],
    [
        "purple",
        "green",
        "yellow",
        "blue"
    ],
    [
        "blue",
        "red",
        "green",
        "yellow"
    ],
    [
        "green",
        "blue",
        "orange",
        "red"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "orange",
        "red",
        "purple",
        "blue"
    ],
    [
        "orange",
        "purple",
        "yellow",
        "green"
    ],
    [
        "green",
        "blue",
        "purple",
        "orange"
    ],
    [
        "yellow",
        "red",
        "purple",
        "green"
    ],
    [
        "purple",
        "blue",
        "green",
        "red"
    ],
    [
        "yellow",
        "orange",
        "green",
        "blue"
    ],
    [
        "red",
        "purple",
        "blue",
        "green"
    ],
    [
        "yellow",
        "green",
        "blue",
        "orange"
    ],
    [
        "yellow",
        "green",
        "blue",
        "orange"
    ],
    [
        "blue",
        "purple",
        "red",
        "yellow"
    ],
    [
        "red",
        "purple",
        "blue",
        "green"
    ],
    [
        "red",
        "yellow",
        "purple",
        "orange"
    ],
    [
        "orange",
        "red",
        "yellow",
        "blue"
    ],
    [
        "blue",
        "orange",
        "red",
        "yellow"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "yellow",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "yellow",
        "blue",
        "green"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "purple",
        "red",
        "yellow",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "green",
        "red",
        "blue",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "yellow",
        "orange",
        "purple",
        "green"
    ],
    [
        "red",
        "yellow",
        "orange",
        "blue"
    ],
    [
        "green",
        "purple",
        "red",
        "orange"
    ],
    [
        "purple",
        "green",
        "red",
        "yellow"
    ],
    [
        "orange",
        "green",
        "blue",
        "red"
    ],
    [
        "red",
        "orange",
        "blue",
        "green"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "purple",
        "blue",
        "yellow",
        "red"
    ],
    [
        "green",
        "blue",
        "orange",
        "red"
    ],
    [
        "red",
        "yellow",
        "purple",
        "blue"
    ],
    [
        "yellow",
        "green",
        "orange",
        "purple"
    ],
    [
        "purple",
        "orange",
        "red",
        "green"
    ],
    [
        "purple",
        "blue",
        "red",
        "yellow"
    ],
    [
        "green",
        "purple",
        "orange",
        "yellow"
    ],
    [
        "green",
        "blue",
        "orange",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "red",
        "orange",
        "blue",
        "green"
    ],
    [
        "red",
        "purple",
        "green",
        "blue"
    ],
    [
        "green",
        "yellow",
        "purple",
        "red"
    ],
    [
        "red",
        "yellow",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "orange",
        "yellow"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "blue",
        "yellow",
        "purple",
        "red"
    ],
    [
        "purple",
        "red",
        "yellow",
        "blue"
    ],
    [
        "green",
        "orange",
        "yellow",
        "blue"
    ],
    [
        "blue",
        "red",
        "purple",
        "green"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "red",
        "orange",
        "blue",
        "green"
    ],
    [
        "yellow",
        "orange",
        "purple",
        "green"
    ],
    [
        "red",
        "green",
        "purple",
        "yellow"
    ],
    [
        "blue",
        "red",
        "purple",
        "orange"
    ],
    [
        "blue",
        "green",
        "purple",
        "orange"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "purple",
        "orange",
        "red",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "red",
        "purple",
        "green",
        "orange"
    ],
    [
        "blue",
        "green",
        "orange",
        "red"
    ],
    [
        "yellow",
        "blue",
        "red",
        "purple"
    ],
    [
        "yellow",
        "green",
        "orange",
        "purple"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "purple",
        "orange"
    ],
    [
        "purple",
        "red",
        "yellow",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "red",
        "yellow",
        "blue",
        "purple"
    ],
    [
        "yellow",
        "green",
        "blue",
        "orange"
    ],
    [
        "red",
        "blue",
        "purple",
        "green"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "orange",
        "green",
        "blue",
        "purple"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "green",
        "red",
        "blue",
        "yellow"
    ],
    [
        "green",
        "blue",
        "orange",
        "red"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "red",
        "yellow",
        "purple",
        "orange"
    ],
    [
        "yellow",
        "orange",
        "red",
        "blue"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "yellow",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "yellow",
        "purple",
        "blue"
    ],
    [
        "yellow",
        "green",
        "blue",
        "orange"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "red",
        "yellow",
        "orange",
        "blue"
    ],
    [
        "yellow",
        "orange",
        "green",
        "purple"
    ],
    [
        "orange",
        "green",
        "blue",
        "yellow"
    ],
    [
        "yellow",
        "orange",
        "red",
        "blue"
    ],
    [
        "yellow",
        "blue",
        "red",
        "green"
    ],
    [
        "purple",
        "green",
        "blue",
        "red"
    ],
    [
        "blue",
        "yellow",
        "green",
        "purple"
    ],
    [
        "red",
        "blue",
        "yellow",
        "green"
    ],
    [
        "orange",
        "green",
        "blue",
        "red"
    ],
    [
        "red",
        "blue",
        "green",
        "purple"
    ],
    [
        "red",
        "blue",
        "orange",
        "yellow"
    ],
    [
        "yellow",
        "red",
        "green",
        "blue"
    ],
    [
        "yellow",
        "purple",
        "green",
        "orange"
    ],
    [
        "green",
        "purple",
        "yellow",
        "orange"
    ],
    [
        "orange",
        "blue",
        "green",
        "red"
    ],
    [
        "purple",
        "yellow",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "yellow",
        "red",
        "blue",
        "green"
    ],
    [
        "red",
        "orange",
        "yellow",
        "purple"
    ],
    [
        "purple",
        "red",
        "orange",
        "blue"
    ],
    [
        "yellow",
        "red",
        "orange",
        "blue"
    ],
    [
        "yellow",
        "orange",
        "purple",
        "blue"
    ],
    [
        "green",
        "purple",
        "red",
        "blue"
    ],
    [
        "green",
        "orange",
        "blue",
        "purple"
    ],
    [
        "orange",
        "yellow",
        "purple",
        "green"
    ],
    [
        "orange",
        "red",
        "purple",
        "blue"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "green",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "red",
        "purple",
        "orange"
    ],
    [
        "red",
        "yellow",
        "purple",
        "orange"
    ],
    [
        "green",
        "purple",
        "orange",
        "blue"
    ],
    [
        "red",
        "yellow",
        "blue",
        "orange"
    ],
    [
        "yellow",
        "blue",
        "red",
        "green"
    ],
    [
        "purple",
        "yellow",
        "green",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "red",
        "green",
        "blue",
        "yellow"
    ],
    [
        "red",
        "orange",
        "purple",
        "green"
    ],
    [
        "orange",
        "green",
        "red",
        "yellow"
    ],
    [
        "red",
        "yellow",
        "green",
        "orange"
    ],
    [
        "yellow",
        "green",
        "orange",
        "purple"
    ],
    [
        "purple",
        "green",
        "orange",
        "yellow"
    ],
    [
        "orange",
        "red",
        "green",
        "purple"
    ],
    [
        "orange",
        "yellow",
        "purple",
        "green"
    ],
    [
        "blue",
        "purple",
        "red",
        "orange"
    ],
    [
        "green",
        "red",
        "orange",
        "blue"
    ],
    [
        "green",
        "yellow",
        "purple",
        "red"
    ],
    [
        "green",
        "red",
        "orange",
        "yellow"
    ],
    [
        "green",
        "purple",
        "red",
        "blue"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "red",
        "yellow",
        "orange",
        "purple"
    ],
    [
        "blue",
        "red",
        "yellow",
        "purple"
    ],
    [
        "yellow",
        "purple",
        "green",
        "blue"
    ],
    [
        "red",
        "green",
        "blue",
        "purple"
    ],
    [
        "purple",
        "orange",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "blue",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "purple"
    ],
    [
        "purple",
        "yellow",
        "red",
        "blue"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "purple",
        "blue",
        "yellow",
        "red"
    ],
    [
        "blue",
        "orange",
        "red",
        "yellow"
    ],
    [
        "blue",
        "yellow",
        "orange",
        "green"
    ],
    [
        "green",
        "blue",
        "orange",
        "purple"
    ],
    [
        "blue",
        "green",
        "red",
        "purple"
    ],
    [
        "red",
        "yellow",
        "green",
        "purple"
    ],
    [
        "yellow",
        "green",
        "orange",
        "purple"
    ],
    [
        "blue",
        "red",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "purple",
        "green"
    ],
    [
        "blue",
        "red",
        "purple",
        "orange"
    ],
    [
        "blue",
        "red",
        "purple",
        "orange"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "green",
        "orange",
        "yellow",
        "blue"
    ],
    [
        "green",
        "purple",
        "orange",
        "red"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "red",
        "blue"
    ],
    [
        "green",
        "purple",
        "blue",
        "red"
    ],
    [
        "green",
        "yellow",
        "blue",
        "orange"
    ],
    [
        "blue",
        "green",
        "yellow",
        "orange"
    ],
    [
        "red",
        "blue",
        "purple",
        "orange"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "green",
        "purple",
        "blue",
        "red"
    ],
    [
        "blue",
        "red",
        "purple",
        "green"
    ],
    [
        "green",
        "red",
        "yellow",
        "orange"
    ],
    [
        "purple",
        "blue",
        "orange",
        "red"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "blue",
        "red",
        "orange",
        "yellow"
    ],
    [
        "yellow",
        "orange",
        "purple",
        "green"
    ],
    [
        "orange",
        "yellow",
        "green",
        "blue"
    ],
    [
        "yellow",
        "purple",
        "green",
        "orange"
    ],
    [
        "green",
        "yellow",
        "blue",
        "red"
    ],
    [
        "blue",
        "red",
        "orange",
        "yellow"
    ],
    [
        "green",
        "red",
        "purple",
        "yellow"
    ],
    [
        "green",
        "yellow",
        "purple",
        "orange"
    ],
    [
        "red",
        "green",
        "yellow",
        "blue"
    ],
    [
        "red",
        "purple",
        "blue",
        "green"
    ],
    [
        "blue",
        "red",
        "yellow",
        "orange"
    ],
    [
        "purple",
        "blue",
        "red",
        "green"
    ],
    [
        "green",
        "yellow",
        "red",
        "purple"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "purple",
        "red",
        "yellow",
        "blue"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "green"
    ],
    [
        "yellow",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "blue",
        "red",
        "yellow",
        "green"
    ],
    [
        "yellow",
        "green",
        "orange",
        "blue"
    ],
    [
        "orange",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "blue",
        "yellow",
        "red",
        "orange"
    ],
    [
        "yellow",
        "purple",
        "blue",
        "red"
    ],
    [
        "yellow",
        "orange",
        "green",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "yellow",
        "green",
        "blue",
        "red"
    ],
    [
        "red",
        "green",
        "yellow",
        "blue"
    ],
    [
        "orange",
        "yellow",
        "green",
        "blue"
    ],
    [
        "purple",
        "green",
        "orange",
        "blue"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "orange",
        "yellow",
        "purple",
        "green"
    ],
    [
        "yellow",
        "purple",
        "green",
        "orange"
    ],
    [
        "red",
        "orange",
        "yellow",
        "purple"
    ],
    [
        "orange",
        "green",
        "purple",
        "yellow"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "red",
        "yellow",
        "blue",
        "green"
    ],
    [
        "red",
        "purple",
        "blue",
        "orange"
    ],
    [
        "purple",
        "yellow",
        "green",
        "blue"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "red",
        "purple",
        "orange",
        "blue"
    ],
    [
        "green",
        "blue",
        "yellow",
        "orange"
    ],
    [
        "orange",
        "purple",
        "yellow",
        "green"
    ],
    [
        "green",
        "blue",
        "yellow",
        "purple"
    ],
    [
        "yellow",
        "green",
        "orange",
        "blue"
    ],
    [
        "red",
        "blue",
        "green",
        "yellow"
    ],
    [
        "purple",
        "red",
        "blue",
        "green"
    ],
    [
        "green",
        "blue",
        "purple",
        "red"
    ],
    [
        "purple",
        "yellow",
        "red",
        "orange"
    ],
    [
        "red",
        "orange",
        "yellow",
        "green"
    ],
    [
        "blue",
        "yellow",
        "orange",
        "red"
    ],
    [
        "yellow",
        "red",
        "orange",
        "purple"
    ],
    [
        "yellow",
        "red",
        "purple",
        "blue"
    ],
    [
        "red",
        "blue",
        "purple",
        "orange"
    ],
    [
        "orange",
        "purple",
        "yellow",
        "green"
    ],
    [
        "yellow",
        "blue",
        "purple",
        "orange"
    ],
    [
        "green",
        "purple",
        "blue",
        "yellow"
    ],
    [
        "blue",
        "yellow",
        "purple",
        "orange"
    ],
    [
        "red",
        "blue",
        "purple",
        "yellow"
    ],
    [
        "blue",
        "yellow",
        "red",
        "green"
    ],
    [
        "purple",
        "orange",
        "yellow",
        "blue"
    ],
    [
        "green",
        "orange",
        "red",
        "blue"
    ],
    [
        "blue",
        "red",
        "purple",
        "orange"
    ],
    [
        "blue",
        "red",
        "green",
        "orange"
    ],
    [
        "purple",
        "green",
        "red",
        "yellow"
    ],
    [
        "red",
        "blue",
        "green",
        "orange"
    ],
    [
        "blue",
        "purple",
        "orange",
        "green"
    ],
    [
        "purple",
        "red",
        "orange",
        "blue"
    ],
    [
        "blue",
        "yellow",
        "purple",
        "red"
    ],
    [
        "green",
        "orange",
        "purple",
        "blue"
    ],
    [
        "green",
        "yellow",
        "purple",
        "orange"
    ],
    [
        "red",
        "yellow",
        "orange",
        "blue"
    ],
    [
        "yellow",
        "green",
        "purple",
        "blue"
    ],
    [
        "green",
        "blue",
        "red",
        "purple"
    ],
    [
        "blue",
        "red",
        "yellow",
        "orange"
    ],
    [
        "orange",
        "red",
        "purple",
        "yellow"
    ]
]

        function getTodayCode() {
            const today = new Date();
            const startOfYear = new Date(today.getFullYear(), 0, 0);
            const diff = today - startOfYear;
            const oneDay = 1000 * 60 * 60 * 24;
            const dayOfYear = Math.floor(diff / oneDay);
            return secretCodes[dayOfYear - 1]; // dayOfYear is 1-based
        }

        // Initialize Game
        function startGame() {
            const secretCode = getTodayCode();
            console.log('Todays Secret Code:', secretCode); // Debugging
            currentGuess = [];
            attempts = [];
            board.innerHTML = '';
            addNewRow();
        }

        function addNewRow() {
            const row = document.createElement('div');
            row.classList.add('row');

            for (let i = 0; i < CODE_LENGTH; i++) {
                const peg = document.createElement('div');
                peg.classList.add('peg');
                peg.addEventListener('click', () => cycleColor(peg));
                row.appendChild(peg);
            }

            const feedback = document.createElement('div');
            feedback.classList.add('feedback');
            for (let i = 0; i < CODE_LENGTH; i++) {
                const dot = document.createElement('div');
                dot.classList.add('dot');
                feedback.appendChild(dot);
            }
            row.appendChild(feedback);

            board.appendChild(row);
        }
		
		function PrintAnsw(inptxt) {
            const row = document.createElement('div');
            row.classList.add('row');


            for (let i = 0; i < CODE_LENGTH; i++) {
                const peg = document.createElement('div');
                peg.classList.add('peg');
                peg.style.backgroundColor=getTodayCode()[i];
                row.appendChild(peg);
            }
			board.appendChild(row);
			
			const txt2 = document.createElement('pre');
			txt2.classList.add('text');
			txt2.textContent = inptxt; // Corrected from txt.text
			board.appendChild(txt2);
        }

        function cycleColor(peg) {
            const currentColor = peg.style.backgroundColor;
            const currentIndex = COLORS.indexOf(currentColor);
            const nextIndex = (currentIndex + 1) % COLORS.length;
            peg.style.backgroundColor = COLORS[nextIndex];
        }

        function getCurrentGuess() {
            const row = board.lastElementChild;
            return Array.from(row.getElementsByClassName('peg')).map(peg => peg.style.backgroundColor);
        }

        function provideFeedback(guess, secretCode) {
            const feedback = [];
            const codeCopy = [...secretCode];

            // Check for correct color and position
            guess.forEach((color, index) => {
                if (color === codeCopy[index]) {
                    feedback.push('black');
                    codeCopy[index] = null; // Mark as matched
                    guess[index] = null; // Mark as matched
                }
            });

            // Check for correct color only
            guess.forEach(color => {
                if (color && codeCopy.includes(color)) {
                    feedback.push('white');
                    codeCopy[codeCopy.indexOf(color)] = null; // Mark as matched
                }
            });

            return feedback;
        }

        function updateFeedback(feedback) {
            const row = board.lastElementChild;
            const dots = row.querySelectorAll('.dot');

            feedback.forEach((color, index) => {
                dots[index].style.backgroundColor = color;
            });
        }

        function checkWin(feedback) {
            return feedback.length === CODE_LENGTH && feedback.every(color => color === 'black');
        }

        submitGuessButton.addEventListener('click', () => {
            const guess = getCurrentGuess();
            if (guess.includes('')) {
                alert('Please complete your guess.');
                return;
            }

            if (new Set(guess).size !== guess.length) {
                alert('Duplicate colors are not allowed.');
                return;
            }

            const secretCode = getTodayCode();
            const feedback = provideFeedback([...guess], secretCode);
            updateFeedback(feedback);
            attempts.push({ guess, feedback });

            if (checkWin(feedback)) {
				g="";
				for (let i = 0; i < attempts.length; i++) {
						s="";
						for (let j = 0; j < attempts[i].feedback.length; j++) {
							if (attempts[i].feedback[j]=="black"){
								s+="⚫";
							}
							else{
								s+="⚪";
							}
						}
				s+="\n";
				g+=s;
				}
				PrintAnsw("Congratulations! You cracked the code!\n"+attempts.length+"/10\n"+g);
				g=(attempts.length+"/10\n"+g);
				const today = new Date();
				const dateStr = today.toLocaleDateString();
				d="#FetlBetl, "+dateStr;
				
				navigator.clipboard.writeText(d+"\n"+g) // Copy to clipboard
				  .then(() => {
					alert("Game Copied to clipboard!\n"+g);
				  })
                
            } else if (attempts.length >= 10) {
				g="";
				for (let i = 0; i < attempts.length; i++) {
						s="";
						for (let j = 0; j < attempts[i].feedback.length; j++) {
							if (attempts[i].feedback[j]=="black"){
								s+="⚫";
							}
							else{
								s+="⚪";
							}
						}
				s+="\n";
				g+=s;
				}
				PrintAnsw("Game Over!\nX/10 \n"+g);
				g=("X/10\n"+g);
				const today = new Date();
				const dateStr = today.toLocaleDateString();
				d="#FetlBetl, "+dateStr;
				
				navigator.clipboard.writeText(d+"\n"+g) // Copy to clipboard
				  .then(() => {
					alert("Game Copied to clipboard!"+g);
				  })
                
            } else {
                addNewRow();
            }
        });

        restartGameButton.addEventListener('click', startGame);

		console.log(secretCodes);
		
        // Start the game on load
        startGame();
		
		
		
		
		
    </script>
</body>
</html>
